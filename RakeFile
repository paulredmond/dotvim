def get_excludes
  exclude  = %w(.git .gitignore README.md RakeFile)

  if (File.exists? ('.gitignore'))
    File.open('.gitignore', 'r').each_line do |line|
      exclude.push(line) unless exclude.include? line
    end
  end

  exclude
end

exclude = get_excludes

desc 'Install vim'
task :install do
    current_dir = File.dirname(__FILE__)
    src = "#{current_dir}/.vimrc"
    dest = Dir.home + "/.vimrc"
    File.symlink(src, dest) && puts("Symlinking #{dest} -> #{src}") unless File.symlink?(dest) || File.exists?(dest)
    exec 'vim -c "BundleInstall"'
end


task :default => [:install]
